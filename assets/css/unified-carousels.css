/* Unified Carousel Styles - All carousels should follow the same design */

/* Common container styles */
.section-carousel {
    padding: 60px 0;
    position: relative;
}

.swiper-container {
    padding: 10px 5px 40px;
    margin: 0 auto;
    width: 100%;
    overflow: hidden;
    box-sizing: border-box; /* Ensure padding is included in width calculation */
}

/* Ensure all carousel containers maintain consistent dimensions */
.services-carousel .swiper-container,
.campaigns-carousel .swiper-container,
.blog-carousel .swiper-container,
.testimonials-carousel .swiper-container {
    min-height: 450px; /* Set a minimum height to prevent jumping */
}

/* Unified card styles across all carousels */
.swiper-slide {
    height: auto;
    display: flex;
}

/* Force equal height for all slides in a row */
.swiper-wrapper {
    display: flex;
    align-items: stretch;
    height: auto !important; /* Prevent height changes during transition */
}

/* Fix for carousel resizing during animation */
.swiper-slide-active,
.swiper-slide-next,
.swiper-slide-prev {
    height: auto !important;
}

/* Common card styling */
.swiper-slide .portfolio-campaign-item,
.swiper-slide .blog-post-item,
.swiper-slide .testimonial-item,
.swiper-slide .card,
.swiper-slide .portfolio-service {
    display: flex;
    flex-direction: column;
    background-color: #f3f4f6; /* Grayish background for all cards - AA compliant */
    border-radius: 10px;
    overflow: hidden;
    height: 100%;
    box-shadow: 0 6px 15px rgba(0,0,0,0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    border: 1px solid #e5e7eb;
    width: 100%; /* Ensure full width */
}

/* Alternating card styles to make them stand out */
.swiper-slide:nth-child(2n) .card,
.swiper-slide:nth-child(2n) .portfolio-campaign-item,
.swiper-slide:nth-child(2n) .blog-post-item,
.swiper-slide:nth-child(2n) .testimonial-item,
.swiper-slide:nth-child(2n) .portfolio-service {
    background-color: #ebedf0; /* Slightly darker gray for even cards */
    border-color: var(--primary-hover, #FFD300);
    border-width: 1px;
}

.swiper-slide:nth-child(3n) .card,
.swiper-slide:nth-child(3n) .portfolio-campaign-item,
.swiper-slide:nth-child(3n) .blog-post-item,
.swiper-slide:nth-child(3n) .testimonial-item,
.swiper-slide:nth-child(3n) .portfolio-service {
    background-color: #e5e7eb; /* Darker gray for every third card */
    border-color: var(--primary-color, #800000);
    border-width: 1px;
}

.swiper-slide .portfolio-campaign-item:hover,
.swiper-slide .blog-post-item:hover,
.swiper-slide .testimonial-item:hover,
.swiper-slide .card:hover,
.swiper-slide .portfolio-service:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 20px rgba(0,0,0,0.15);
    border-color: var(--primary-color, #800000);
}

/* Uniform thumbnail styles */
.swiper-slide .portfolio-campaign-thumbnail,
.swiper-slide .blog-post-thumbnail,
.swiper-slide .testimonial-thumbnail,
.swiper-slide .card-thumbnail,
.swiper-slide .post-thumbnail {
    height: 200px;
    overflow: hidden;
    position: relative;
    background-color: #f5f5f5; /* Fallback background if no image */
}

.swiper-slide .portfolio-campaign-thumbnail img,
.swiper-slide .blog-post-thumbnail img,
.swiper-slide .testimonial-thumbnail img,
.swiper-slide .card-thumbnail img,
.swiper-slide .post-thumbnail img,
.swiper-slide img.attachment-medium,
.swiper-slide img.wp-post-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.swiper-slide .portfolio-campaign-thumbnail img:hover,
.swiper-slide .blog-post-thumbnail img:hover,
.swiper-slide .testimonial-thumbnail img:hover,
.swiper-slide .card-thumbnail img:hover,
.swiper-slide .post-thumbnail img:hover,
.swiper-slide img.attachment-medium:hover,
.swiper-slide img.wp-post-image:hover {
    transform: scale(1.05);
}

/* For image placeholders when no image exists */
.swiper-slide .image-placeholder {
    background-color: #f0f0f0;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: 100%;
    color: #999;
    font-size: 2rem;
}

/* Service specific image placeholder styling */
.swiper-slide .service-image-placeholder {
    background-color: rgba(var(--primary-color-rgb, 128, 0, 0), 0.1);
    color: var(--primary-color, #800000);
    min-height: 180px;
}

/* Alternating placeholder styles for visual interest */
.swiper-slide:nth-child(2n) .service-image-placeholder {
    background-color: rgba(var(--primary-hover-rgb, 255, 211, 0), 0.15);
    color: var(--primary-hover, #FFD300);
}

.swiper-slide:nth-child(3n) .service-image-placeholder {
    background-color: rgba(var(--text-color-rgb, 17, 24, 39), 0.05);
    color: var(--text-color, #111827);
}

/* Unified content areas */
.swiper-slide .portfolio-campaign-content,
.swiper-slide .blog-post-content,
.swiper-slide .testimonial-content,
.swiper-slide .card-content,
.swiper-slide .entry-content {
    padding: 1.5rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    height: 100%; /* Ensure content takes up full height */
    min-height: 200px; /* Minimum height for content */
    background-color: transparent; /* Keep the background of the parent */
}

/* Title styling with fixed height for consistency */
.swiper-slide .portfolio-campaign-title,
.swiper-slide .blog-post-title,
.swiper-slide .testimonial-title,
.swiper-slide .card-title,
.swiper-slide .entry-title,
.swiper-slide h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    line-height: 1.4;
    color: #333;
    height: 2.8em; /* Fixed height for approximately 2 lines */
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
}

.swiper-slide .portfolio-campaign-title a,
.swiper-slide .blog-post-title a,
.swiper-slide .testimonial-title a,
.swiper-slide .card-title a,
.swiper-slide .entry-title a,
.swiper-slide h3 a {
    color: inherit;
    text-decoration: none;
    transition: color 0.2s ease;
}

.swiper-slide .portfolio-campaign-title a:hover,
.swiper-slide .blog-post-title a:hover,
.swiper-slide .testimonial-title a:hover,
.swiper-slide .card-title a:hover,
.swiper-slide .entry-title a:hover,
.swiper-slide h3 a:hover {
    color: var(--primary-color, #800000);
}

/* Excerpt styling with fixed height for consistency */
.swiper-slide .portfolio-campaign-excerpt,
.swiper-slide .blog-post-excerpt,
.swiper-slide .testimonial-text,
.swiper-slide .card-excerpt,
.swiper-slide .entry-summary,
.swiper-slide p {
    margin-bottom: 1rem;
    color: #4b5563;
    flex-grow: 1;
    font-size: 0.95rem;
    line-height: 1.6;
    height: 4.8em; /* Fixed height for approximately 3 lines */
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
}

/* Meta info styling */
.swiper-slide .portfolio-campaign-meta,
.swiper-slide .blog-post-meta,
.swiper-slide .testimonial-meta,
.swiper-slide .card-meta,
.swiper-slide .entry-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: auto; /* Push to bottom */
    padding-top: 1rem;
    border-top: 1px solid #e5e7eb;
    font-size: 0.875rem;
    color: #6b7280;
    height: 3em; /* Fixed height for meta section */
    overflow: hidden;
}

/* Link button styling */
.swiper-slide .portfolio-campaign-link,
.swiper-slide .blog-post-link,
.swiper-slide .testimonial-link,
.swiper-slide .card-link,
.swiper-slide .more-link,
.swiper-slide a.button,
.swiper-slide .service-link a.button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-top: 1rem;
    padding: 0.5rem 1rem;
    font-weight: 500;
    color: #fff;
    background-color: var(--primary-color, #800000);
    border-radius: 4px;
    text-decoration: none;
    transition: background-color 0.3s ease, transform 0.3s ease, color 0.3s ease;
    text-align: center;
    width: fit-content;
    height: 2.5em;
    min-width: 120px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.swiper-slide .portfolio-campaign-link:hover,
.swiper-slide .blog-post-link:hover,
.swiper-slide .testimonial-link:hover,
.swiper-slide .card-link:hover,
.swiper-slide .more-link:hover,
.swiper-slide a.button:hover,
.swiper-slide .service-link a.button:hover {
    background-color: var(--primary-hover, #FFD300);
    color: var(--text-color, #111827);
    transform: translateY(-2px);
}

/* Featured badge for all card types */
.portfolio-campaign-item .featured-badge,
.blog-post-item .featured-badge,
.testimonial-item .featured-badge,
.card .featured-badge,
.portfolio-service .service-featured-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background-color: var(--primary-color, #800000);
    color: white;
    font-size: 0.75rem;
    font-weight: 600;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    z-index: 2;
}

/* Featured items styling */
.portfolio-campaign-item.featured,
.blog-post-item.featured,
.testimonial-item.featured,
.card.featured,
.portfolio-service.service-featured {
    transform: scale(1.02);
    border-color: var(--primary-color, #800000);
    border-width: 2px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.12);
    z-index: 1;
}

.portfolio-campaign-item.featured:hover,
.blog-post-item.featured:hover,
.testimonial-item.featured:hover,
.card.featured:hover,
.portfolio-service.service-featured:hover {
    transform: translateY(-5px) scale(1.02);
}

/* Service excerpt styling */
.portfolio-service .service-excerpt {
    text-align: center;
    margin-bottom: 1rem;
}

/* Service meta styling */
.portfolio-service .service-meta {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    padding-top: 0.75rem;
    margin-top: auto;
    border-top: 1px solid #e5e7eb;
    font-size: 0.875rem;
}

.portfolio-service .service-price,
.portfolio-service .service-duration {
    flex: 1;
    min-width: 45%;
    padding: 0.25rem;
}

/* Service link styling */
.portfolio-service .service-link {
    margin-top: 1rem;
    text-align: center;
}

/* Ensure icons in placeholders are properly sized */
.service-image-placeholder svg,
.service-image-placeholder i,
.service-image-placeholder .dashicons {
    width: 50px;
    height: 50px;
}

/* Navigation styling */
.swiper-button-next,
.swiper-button-prev {
    background-color: #fff;
    color: #333;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    transition: background-color 0.2s ease, color 0.2s ease;
}

.swiper-button-next:after,
.swiper-button-prev:after {
    font-size: 18px;
    font-weight: bold;
}

.swiper-button-next:hover,
.swiper-button-prev:hover {
    background-color: var(--wp--preset--color--primary, #0073aa);
    color: #fff;
}

/* Pagination styling */
.swiper-pagination-bullet {
    width: 10px;
    height: 10px;
    opacity: 0.7;
    background-color: #ccc;
}

.swiper-pagination-bullet-active {
    background-color: var(--wp--preset--color--primary, #0073aa);
    opacity: 1;
}

/* Additional standardization rules */
.swiper-slide .entry-content img,
.swiper-slide .wp-post-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
}

/* Force uniform card height */
.swiper-slide {
    height: auto !important;
}

/* Add fallback for missing images */
.swiper-slide:not(:has(img)) .portfolio-campaign-thumbnail,
.swiper-slide:not(:has(img)) .blog-post-thumbnail,
.swiper-slide:not(:has(img)) .testimonial-thumbnail,
.swiper-slide:not(:has(img)) .card-thumbnail,
.swiper-slide:not(:has(img)) .post-thumbnail {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="%23999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>');
    background-repeat: no-repeat;
    background-position: center;
    background-size: 50px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .swiper-slide .portfolio-campaign-thumbnail,
    .swiper-slide .blog-post-thumbnail,
    .swiper-slide .testimonial-thumbnail,
    .swiper-slide .card-thumbnail,
    .swiper-slide .post-thumbnail,
    .swiper-slide .entry-content img,
    .swiper-slide .wp-post-image {
        height: 180px;
    }
    
    .swiper-slide .portfolio-campaign-title,
    .swiper-slide .blog-post-title,
    .swiper-slide .testimonial-title,
    .swiper-slide .card-title,
    .swiper-slide .entry-title,
    .swiper-slide h3 {
        font-size: 1.125rem;
        height: 2.5em;
    }
    
    .swiper-button-next,
    .swiper-button-prev {
        width: 35px;
        height: 35px;
    }
}

@media (max-width: 480px) {
    .swiper-slide .portfolio-campaign-thumbnail,
    .swiper-slide .blog-post-thumbnail,
    .swiper-slide .testimonial-thumbnail,
    .swiper-slide .card-thumbnail,
    .swiper-slide .post-thumbnail,
    .swiper-slide .entry-content img,
    .swiper-slide .wp-post-image {
        height: 160px;
    }
    
    .swiper-slide .portfolio-campaign-content,
    .swiper-slide .blog-post-content,
    .swiper-slide .testimonial-content,
    .swiper-slide .card-content,
    .swiper-slide .entry-content {
        padding: 1.25rem;
        min-height: 180px;
    }
    
    .swiper-slide .portfolio-campaign-meta,
    .swiper-slide .blog-post-meta,
    .swiper-slide .testimonial-meta,
    .swiper-slide .card-meta,
    .swiper-slide .entry-meta {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
        height: auto;
    }
    
    .swiper-button-next,
    .swiper-button-prev {
        display: none;
    }
}
